<!DOCTYPE html>
<html>
<title>Current Statistics - Chairman</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
body {margin: 0;}

ul.topnav {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #333;
}

ul.topnav li {float: left;}

ul.topnav li a {
    display: block;
    color: white;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
}

ul.topnav li a:hover:not(.active) {background-color: #111;}

ul.topnav li a.active {background-color: #4CAF50;}

ul.topnav li.right {float: right;}

@media screen and (max-width: 600px){
    ul.topnav li.right,
    ul.topnav li {float: none;}
}

@import "compass/css3";

body{background:#eee;}

.scene{
  position:absolute;
  width:500px;
  height:200px;
  top:50%;
  left:50%;
  margin-top:-100px;
  margin-left:-200px;
  overflow:hidden;
  &:after{
    content:" ";
    left:0;
    top:0;
    bottom:0;
    width:100px;
    @include background-image(linear-gradient(to right, #eee, rgba(#eee,0)));
    position:absolute;
  }
  &:before{
    content:" ";
    right:0;
    top:0;
    bottom:0;
    width:100px;
    @include background-image(linear-gradient(to left, #eee, rgba(#eee,0)));
    position:absolute;
    z-index:10;
  }
  em{
    display:none;
    position:absolute;
    bottom:20px;
    left:55px;
    right:0;
    text-align:center;
    font-style:normal;
    font-family:Proxima Nova;
    color:#0bb4a6;
    letter-spacing:0.2em;
  }
}

.car{
  position:absolute;
  top:70px;
  left:30%;
  animation: peel 4s ease-in-out forwards infinite, bump 0.2s linear infinite;
}

.poof{
  position:absolute;
  top:110px;
  left:160px;
  margin-left:-30px;
  opacity:0;
  animation: poof 4s ease-in-out forwards infinite;
}

.sign{
  position:absolute;
  right:-40px;
  top:30px;
  animation: sign 4s ease-in-out forwards infinite;
}

@keyframes sign {
  0% {
    right:-40px;
  }
  30% {
    right:80px;
  }
  70% {
    right:80px;
  }
  100% {
    right:100%;
  }
}

@keyframes peel {
  0% {
    transform: rotate(0deg);
  }
  70% {
    transform: rotate(0deg);
  }
  73% {
    transform: rotate(-9deg);
  }
  95% {
    transform: rotate(-9deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

@keyframes poof {
  0% {
    opacity:0;
    transform: scale(1.0);
  }
  70% {
    opacity:0;
    left:170px;
    transform: scale(1.0);
  }
  76% {
    opacity:1;
    transform: scale(1.3);
    left:160px;
  }
  95% {
    opacity:0;
  }
  100% {
    opacity:0;
    transform: scale(1.3);
  }
}

@keyframes bump {
  0% {
    top:70px;
  }
  50% {
    top:70px;
  }
  60% {
    top:69px;
  }
  100% {
    top:70px;
  }
}

</style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="/"><img src="../images/plannerhero.png" width="30" height="30" class="d-inline-block align-top" alt="" style="margin-right:10px">Chairman</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarColor01">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="/current">Current <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/planner">Planner</a>
        </li>
      </ul>
      <form class="form-inline">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-info my-2 my-sm-0" type="submit">Search</button>
      </form>
    </div>
  </nav>


  <div id="loading" style="display:none;">
    <div class="scene text-align-center">
    <img class="car" src="../images/superhero.svg" style="width:20%" alt="" />
    <img class="sign" src="https://upload.wikimedia.org/wikipedia/en/thumb/c/cd/UST.svg/1200px-UST.svg.png" style="width:15%" alt="" />
  </div>
</div>

<div class="container" id="view_map" style="display:none; padding:20px">
  <div class="card text-center">
    <div class="card-header badge-success">
      Chairman has delivered. These are the closest learning spaces near you with their availablity.
    </div>
    <div class="card-body">
      <div id="map"></div>
    </div>
    <div class="card-footer badge badge-info" style="padding:10px;">
      last updated a minute ago
      </button>
    </div>
  </div>
  <style>
 #map {
   width: 100%;
   height: 400px;
   background-color: grey;
 }
</style>
</div>


  <script>
  function initMap() {
  var uluru = { lat: 22.338, lng: 114.2641 };
  //{lat: 22.3964, lng: 114.1095}; hkust
  var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 17,
    center: uluru
  });
  var loc = { lat: 22.338, lng: 114.2641 };
  locations = [
    ['HKUST library', 22.338009, 114.26414299999999],
    ['Academic Building', 22.336084, 114.263609],
    ['library Garden', 22.338618, 114.264102]
  ];
  var twoimage = '../images/two.png';
  var redimage = '../images/red.png';
  var infowindow = new google.maps.InfoWindow();
  var marker, i;
  for (i = 0; i < locations.length; i++) {
    if (i == 0) {
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(locations[i][1], locations[i][2]),
        map: map,
        icon: twoimage
      });

      google.maps.event.addListener(
        marker,
        'click',
        (function(marker, i) {
          return function() {
            window.location.href = '/library';
            //infowindow.setContent(locations[i][0]);
            //infowindow.open(map, marker);
          };
        })(marker, i)
      );
    } else {
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(locations[i][1], locations[i][2]),
        map: map,
        icon: redimage
      });
    }

    /*
         google.maps.event.addListener(marker, 'click', (function(marker, i) {
           return function() {
             window.location.href = "library/index.html"
             //infowindow.setContent(locations[i][0]);
             //infowindow.open(map, marker);
           }
         })(marker, i));

         */

    google.maps.event.addListener(
      marker,
      'mouseover',
      (function(marker, i) {
        return function() {
          infowindow.setContent(locations[i][0]);
          infowindow.open(map, marker);
        };
      })(marker, i)
    );
  }
}

function loading() {
  $('#loading').show();
  $('#view_map').hide();
  setTimeout(function() {
    $('#loading').hide();
    $('#view_map').show();
  }, 4000);
}
$(function() {
  console.log('waqas');
  loading();
});
</script>

  <script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBRmvxLDbJWjgcVSdwFwd0Rf_cqiKnv6Dw&callback=initMap">
  </script>

</body>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

</html>
